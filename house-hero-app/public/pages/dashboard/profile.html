<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
    />
    <title>HouseHero | Profile</title>
    <!-- Web App Meta -->
    <meta name="theme-color" content="#22c55e" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="mobile-web-app-capable" content="yes" />
    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/styles.css" />
  </head>
  <body class="light">
    <button id="toggle-dark" class="dark-mode-toggle" title="Toggle Dark Mode">
      ‚òÄÔ∏è
    </button>
    <!-- Header -->
    <header class="header">
      <a href="#" class="menu-icon" id="menu-toggle">‚ò∞</a>
      <div class="header-content">
        <h1 class="main-title">Profile</h1>
        <p class="subtitle">Manage your account</p>
      </div>
    </header>
    <!-- Sidebar Menu -->
    <aside id="sidebar-menu" class="sidebar-menu">
      <button class="close-btn" id="close-menu">√ó</button>
      <div class="sidebar-profile">
        <img
          src="https://randomuser.me/api/portraits/men/1.jpg"
          alt="User Avatar"
          class="sidebar-avatar"
        />
        <div class="sidebar-name">Apiwe Fuzile</div>
      </div>
      <nav class="sidebar-nav">
        <a href="/public/index.html" class="sidebar-link">üè† home</a>
        <a
          href="/house-hero-app/pages/dashboard/profile.html"
          class="sidebar-link"
          >profile</a
        >
        <a
          href="/house-hero-app/pages/dashboard/settings.html"
          class="sidebar-link"
          >settings</a
        >
        <a
          href="/house-hero-app/pages/services/complaints.html"
          class="sidebar-link"
          >complaints</a
        >
        <a href="/house-hero-app/pages/info/contact.html" class="sidebar-link"
          >get in touch</a
        >
        <a href="/house-hero-app/pages/info/faq.html" class="sidebar-link"
          >F.A.Q</a
        >
        <a href="#" class="sidebar-link logout-link" onclick="handleLogout()">‚éã logout</a>
      </nav>
    </aside>
    <div id="sidebar-overlay" class="sidebar-overlay"></div>

    <!-- Main Content -->
    <main class="main-section">
      <!-- Profile Picture Section -->
      <div class="profile-picture-section">
        <div class="profile-picture-container">
          <img
            src="https://randomuser.me/api/portraits/men/1.jpg"
            alt="Profile Picture"
            class="profile-picture"
            id="profile-picture"
          />
          <button
            class="change-photo-btn"
            onclick="document.getElementById('photo-input').click()"
          >
            üì∑ Change Photo
          </button>
          <input
            type="file"
            id="photo-input"
            accept="image/*"
            style="display: none"
            onchange="changeProfilePicture(this)"
          />
        </div>
      </div>

      <!-- Profile Information -->
      <div class="profile-info-section">
        <h2 class="section-title">Personal Information</h2>

        <form id="profile-form" class="profile-form">
          <div class="form-group">
            <label for="full-name">Full Name</label>
            <input
              type="text"
              id="full-name"
              name="fullName"
              value="Apiwe Fuzile"
              required
            />
          </div>

          <div class="form-group">
            <label for="email">Email Address</label>
            <input
              type="email"
              id="email"
              name="email"
              value="apiwe.fuzile@example.com"
              required
            />
          </div>

          <div class="form-group">
            <label for="phone">Phone Number</label>
            <input
              type="tel"
              id="phone"
              name="phone"
              value="555-123-4567"
              required
            />
          </div>

          <div class="form-group">
            <label for="address">Address</label>
            <textarea
              id="address"
              name="address"
              rows="3"
              placeholder="Enter your full address"
            >
123 Main Street, Cape Town, South Africa</textarea
            >
          </div>

          <div class="form-group">
            <label for="emergency-contact">Emergency Contact</label>
            <input
              type="tel"
              id="emergency-contact"
              name="emergencyContact"
              value="555-987-6543"
              placeholder="Emergency contact number"
            />
          </div>

          <button type="submit" class="btn-primary">Save Changes</button>
        </form>
      </div>

      <!-- Account Settings -->
      <div class="account-settings-section">
        <h2 class="section-title">Account Settings</h2>

        <div class="settings-item">
          <div class="setting-info">
            <h3>Change Password</h3>
            <p>Update your account password</p>
          </div>
          <button class="btn-secondary" onclick="showChangePasswordModal()">
            Change
          </button>
        </div>

        <div class="settings-item">
          <div class="setting-info">
            <h3>Notification Preferences</h3>
            <p>Manage your notification settings</p>
          </div>
          <button class="btn-secondary" onclick="showNotificationSettings()">
            Settings
          </button>
        </div>

        <div class="settings-item">
          <div class="setting-info">
            <h3>Privacy Settings</h3>
            <p>Control your privacy and data sharing</p>
          </div>
          <button class="btn-secondary" onclick="showPrivacySettings()">
            Manage
          </button>
        </div>
      </div>

      <!-- Service History -->
      <div class="service-history-section">
        <h2 class="section-title">Recent Services</h2>

        <div class="service-history-item">
          <div class="service-icon">üßπ</div>
          <div class="service-details">
            <h3>House Cleaning</h3>
            <p>Completed on July 1, 2024</p>
            <span class="service-status completed">Completed</span>
          </div>
        </div>

        <div class="service-history-item">
          <div class="service-icon">üîê</div>
          <div class="service-details">
            <h3>Lock Replacement</h3>
            <p>Completed on June 28, 2024</p>
            <span class="service-status completed">Completed</span>
          </div>
        </div>

        <div class="service-history-item">
          <div class="service-icon">üö∞</div>
          <div class="service-details">
            <h3>Plumbing Repair</h3>
            <p>Scheduled for July 5, 2024</p>
            <span class="service-status scheduled">Scheduled</span>
          </div>
        </div>

        <button class="btn-secondary view-all-btn">View All Services</button>
      </div>
    </main>

    <!-- Change Password Modal -->
    <div id="password-modal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2>Change Password</h2>
          <button class="close-modal" onclick="closePasswordModal()">√ó</button>
        </div>
        <form id="password-form" class="modal-form">
          <div class="form-group">
            <label for="current-password">Current Password</label>
            <input type="password" id="current-password" required />
          </div>
          <div class="form-group">
            <label for="new-password">New Password</label>
            <input type="password" id="new-password" required />
          </div>
          <div class="form-group">
            <label for="confirm-password">Confirm New Password</label>
            <input type="password" id="confirm-password" required />
          </div>
          <div class="modal-actions">
            <button
              type="button"
              class="btn-secondary"
              onclick="closePasswordModal()"
            >
              Cancel
            </button>
            <button type="submit" class="btn-primary">Update Password</button>
          </div>
        </form>
      </div>
    </div>

    <!-- JavaScript -->
    <script src="/js/script.js"></script>
    <script>
      // Profile page specific JavaScript
      function changeProfilePicture(input) {
        if (input.files && input.files[0]) {
          const reader = new FileReader();
          reader.onload = function (e) {
            document.getElementById("profile-picture").src = e.target.result;
            showToast("Profile picture updated successfully!", "success");
          };
          reader.readAsDataURL(input.files[0]);
        }
      }

      function showChangePasswordModal() {
        document.getElementById("password-modal").style.display = "flex";
      }

      function closePasswordModal() {
        document.getElementById("password-modal").style.display = "none";
        document.getElementById("password-form").reset();
      }

      function showNotificationSettings() {
        showToast("Notification settings would open here", "success");
      }

      function showPrivacySettings() {
        showToast("Privacy settings would open here", "success");
      }

      // Form submissions
      document
        .getElementById("profile-form")
        .addEventListener("submit", function (e) {
          e.preventDefault();
          showToast("Profile updated successfully!", "success");
        });

      document
        .getElementById("password-form")
        .addEventListener("submit", function (e) {
          e.preventDefault();
          const newPassword = document.getElementById("new-password").value;
          const confirmPassword =
            document.getElementById("confirm-password").value;

          if (newPassword !== confirmPassword) {
            showToast("Passwords do not match!", "error");
            return;
          }

          showToast("Password updated successfully!", "success");
          closePasswordModal();
        });

      // Close modal when clicking outside
      document
        .getElementById("password-modal")
        .addEventListener("click", function (e) {
          if (e.target === this) {
            closePasswordModal();
          }
        });
    </script>
  </body>
</html>
